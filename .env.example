# ========================
# Django Core Settings
# ========================

# Debug and Environment
DEBUG=True
SECRET_KEY=your-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1,web
SITE_URL=http://localhost:8000

# Database Configuration
# ---------------------
DB_NAME=
DB_USER=
DB_PASSWORD=
DB_HOST=db
DB_PORT=5432

# Redis Configuration
# ------------------
REDIS_PASSWORD=
REDIS_URL=redis://redis:6379/0
REDIS_PORT=6379

# Celery Configuration
# -------------------
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_ACCEPT_CONTENT=json
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
CELERY_WORKER_CONCURRENCY=2
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_WORKER_MAX_TASKS_PER_CHILD=100
CELERY_WORKER_MAX_MEMORY_PER_CHILD=262144  # 256MB

# CORS Configuration
# -----------------
CORS_ALLOWED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000,http://web:8000
CSRF_TRUSTED_ORIGINS=http://localhost,http://127.0.0.1,http://web

# Email Configuration (Development)
# --------------------------------
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=localhost
EMAIL_PORT=1025
EMAIL_USE_TLS=False
DEFAULT_FROM_EMAIL=noreply@localhost

# Python Configuration
# -------------------
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
PYTHONFAULTHANDLER=1
PYTHONHASHSEED=random
PYTHONPATH=/app

# Storage Configuration
# --------------------
# Media Files
MEDIA_URL=/media/
MEDIA_ROOT=/app/media

# Static Files
STATIC_URL=/static/
STATIC_ROOT=/app/staticfiles
STATICFILES_STORAGE=whitenoise.storage.CompressedManifestStaticFilesStorage

# AWS S3 (Optional - for production)
# ---------------------------------
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_STORAGE_BUCKET_NAME=your_bucket_name
# AWS_S3_REGION_NAME=us-east-1
# AWS_S3_CUSTOM_DOMAIN=${AWS_STORAGE_BUCKET_NAME}.s3.amazonaws.com
# AWS_DEFAULT_ACL=public-read
# AWS_S3_OBJECT_PARAMETERS={"CacheControl": "max-age=86400"}
# USE_S3=False

# Security Settings (for production)
# ---------------------------------
# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True
# SECURE_BROWSER_XSS_FILTER=True
# SECURE_CONTENT_TYPE_NOSNIFF=True
# X_FRAME_OPTIONS=DENY
# SECURE_HSTS_SECONDS=31536000  # 1 year
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# SECURE_HSTS_PRELOAD=True

# Logging Level
LOG_LEVEL=INFO

# API Keys (Development)
# ---------------------
# Stripe
STRIPE_SECRET_KEY=your_stripe_secret_key
STRIPE_PUBLIC_KEY=your_stripe_public_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# Sentry (for error tracking)
# SENTRY_DSN=your_sentry_dsn

# CORS Settings
# -------------
CORS_ALLOW_ALL_ORIGINS=True
CORS_ALLOW_CREDENTIALS=True
MEDIA_ROOT=/app/media

# Security
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
SECURE_SSL_REDIRECT=False

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=True

# Logging
DJANGO_LOG_LEVEL=INFO

# Application Settings
DEFAULT_FILE_STORAGE=django.core.files.storage.FileSystemStorage
MAX_UPLOAD_SIZE=104857600  # 100MB in bytes
FILE_UPLOAD_MAX_MEMORY_SIZE=2621440  # 2.5MB in bytes

# Whisper AI
WHISPER_MODEL=base  # tiny, base, small, medium, large
WHISPER_DEVICE=cpu  # cpu or cuda if GPU is available

# Feature Flags
ENABLE_EMAIL_VERIFICATION=False